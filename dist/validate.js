'use strict';function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var validate=function a(b,c){var d=c.name||'',e=c.on||a.on,f=c.off||a.off,g=c.warn||a.warn,h=c.bool||a.bool,i=function(){return('production'===process.env.NODE_ENV||f)&&(!e||!h)},j=function(d){var e=0,f=[];if(c.forEach(function(c){f.push(c.type);try{a(b,c)}catch(a){e++}}),e===f.length)throw new Error(d+': '+b+' did not match any of the types: '+f.toString())},k=function(a){var b=!1;return c.acceptedNulls&&c.acceptedNulls.forEach(function(c){c===a&&(b=!0)}),b};try{if(i())return b;if(Array.isArray(c))j(d);else{if(!b&&!k(b)){if(c.notRequired)return!!h||void 0;if(g&&console.warn('Value \''+d+': '+b+'\' is required!'),h)return!1;throw new Error('Value \''+d+': '+b+'\' is required!')}if('string'==typeof c&&(c={type:c}),!c.type)throw new Error(d+': '+b+'.type is required');c.extend&&c.extend(b,c);var l=require('./validations');return a.extensions&&(l=[].concat(_toConsumableArray(l),_toConsumableArray(a.extensions))),l.forEach(function(a){c.type.toLowerCase()===a.type&&a.rules(b,c,d)}),!!h||b}}catch(a){if(g&&!h)return console.warn(a),b;if(h)return g&&console.warn(a),!1;throw a}};module.exports=validate;
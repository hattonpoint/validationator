var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var getFuncParamNames=function(a){var b=/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,)]*))/mg,c=/([^\s,]+)/g,d=a.toString().replace(b,""),e=d.slice(d.indexOf("(")+1,d.indexOf(")")).match(c);return"{"===e[0]&&e["}"===e.length-1]&&(e=e.slice(1,-1)),null===e&&(e=[]),e},includesAnyTest=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},d=!1;c.ignoreCase&&(a=a.toLowerCase()),c.stringify&&(a=JSON.stringify(a));for(var e,f=0;f<b.length;f++)if(e=b[f],c.ignoreCase&&(e=e.toLowerCase()),c.stringify&&(e=JSON.stringify(e)),a.includes(e)){d=!0;break}return d},matchesAny=function(a,b){var c=!1;return b.forEach(function(b){b===a&&(c=!0)}),c},validator=require("validator"),validationsMaster={array:function(a,b){var c=b.maxLen,d=b.minLen,e=b.allChildren,f=b.children,g=b.includes,h=b.notIncludes,i=b.includesAny,j=b.notIncludesAny,k=b.name;if(!Array.isArray(a))throw new Error("Expected "+k+": "+a+" to be type array. Got "+("undefined"==typeof a?"undefined":_typeof(a))+".");if("undefined"!=typeof d&&a.length<d)throw new Error("Array "+k+": "+a+" length is "+a.length+". Less than minimum "+d+".");if("undefined"!=typeof c&&a.length>c)throw new Error("Array "+k+": "+a+" is "+a.length+". More than maximum "+c+".");if("undefined"!=typeof g&&!JSON.stringify(a).includes(JSON.stringify(g)))throw new Error("Array "+k+": "+a+" does not include required string: "+g+".");if("undefined"!=typeof h&&JSON.stringify(a).includes(JSON.stringify(h)))throw new Error("Array "+k+": "+a+" includes blacklisted string: "+h+".");if("undefined"!=typeof i&&!includesAnyTest(a,i,{stringify:!0}))throw new Error("Array "+k+": "+a+" does not include required string from: "+i+".");if("undefined"!=typeof j&&includesAnyTest(a,j,{stringify:!0}))throw new Error("Array "+k+": "+a+" includes blacklisted string from: "+j+".");if(e&&a.forEach(function(b,c){e.name=e.name||c,validate(a[c],e)}),f){if(!Array.isArray(f))throw new Error(k+": "+a+". Children must be an array. Got type "+("undefined"==typeof f?"undefined":_typeof(f))+".");f.forEach(function(b,c){"string"==typeof b&&(b={type:b}),b.name=b.name||c,validate(a[c],b)})}},function:function(a,b){var c=b.name;if("function"!=typeof a)throw new Error("Expected "+c+": "+a+" to be type function. Got "+("undefined"==typeof a?"undefined":_typeof(a))+".")},object:function(a,b){var c=b.requiredKeys,d=b.children,e=b.minLen,f=b.maxLen,g=b.allChildren,h=b.includes,i=b.notIncludes,j=b.includesAny,k=b.notIncludesAny,l=b.name,m=Object.keys(a);if("object"!==("undefined"==typeof a?"undefined":_typeof(a))||Array.isArray(a))throw new Error("Expected "+l+": "+a+" to be type object. Got type "+("undefined"==typeof a?"undefined":_typeof(a))+". Array.isArray? "+Array.isArray(a)+".");if(c&&c.forEach(function(b){if(!m.find(function(a){return a===b}))throw new Error(l+": "+a+" missing required key: "+b+".")}),"undefined"!=typeof h&&!JSON.stringify(a).includes(JSON.stringify(h)))throw new Error("Object "+l+": "+a+" does not include required string: "+h+".");if("undefined"!=typeof i&&JSON.stringify(a).includes(JSON.stringify(i)))throw new Error("Object "+l+": "+a+" includes blacklisted string: "+i+".");if("undefined"!=typeof e&&m.length<e)throw new Error("Object "+l+": "+a+" length is "+m.length+". Less than minimum "+e+".");if("undefined"!=typeof f&&m.length>f)throw new Error("Object "+l+": "+a+" length is "+m.length+" more than maximum "+f+".");if("undefined"!=typeof j&&!includesAnyTest(a,j,{stringify:!0}))throw new Error("Object "+l+": "+a+" does not include required string from: "+j+".");if("undefined"!=typeof k&&includesAnyTest(a,k,{stringify:!0}))throw new Error("Object "+l+": "+a+" includes blacklisted string from: "+k+".");if(g&&m.forEach(function(b){return validate(a[b],g,{name:b})}),d){if("object"!==("undefined"==typeof d?"undefined":_typeof(d))||Array.isArray(d))throw new Error("Expected "+l+": "+a+" validation children to be type object. Got type "+("undefined"==typeof a?"undefined":_typeof(a))+" Array.isArray? "+Array.isArray(a)+".");var n=Object.keys(d);n.forEach(function(b){var c=d[b];"string"==typeof c&&(c={type:c}),c.name=c.name||b,validate(a[b],c)})}},string:function(a,b){var c=b.maxLen,d=b.minLen,e=b.regEx,f=b.includes,g=b.notIncludes,h=b.includesAny,i=b.notIncludesAny,j=b.name;if("string"!=typeof a)throw new Error("Expected "+j+": "+a+" to be type string. Got type "+("undefined"==typeof a?"undefined":_typeof(a))+".");if("undefined"!=typeof d&&a.length<d)throw new Error("String \""+j+": "+a+"\" length is "+a.length+". Less than minimum "+d+".");if("undefined"!=typeof c&&a.length>c)throw new Error("String \""+j+": "+a+"\" length is "+a.length+". more than maximum.");if("undefined"!=typeof e&&!e.test(a))throw new Error("String \""+j+": "+a+"\" does not match the validation regEx "+e+".");if("undefined"!=typeof f&&!a.includes(f))throw new Error("String \""+j+": "+a+"\" does not include required string: "+f+".");if("undefined"!=typeof g&&a.includes(g))throw new Error("String \""+j+": "+a+"\" includes blacklisted string: "+g+".");if("undefined"!=typeof h&&!includesAnyTest(a,h))throw new Error("String \""+j+": "+a+"\" does not include any required string from: ["+h+"].");if("undefined"!=typeof i&&includesAnyTest(a,i))throw new Error("String \""+j+": "+a+"\" includes a blacklisted string from: ["+i+"].")},number:function(a,b){var c=b.max,d=b.min,e=b.decimals,f=b.regEx,g=b.name;if("number"!=typeof a)throw new Error("Expected "+g+": "+a+" to be type number. Got "+("undefined"==typeof a?"undefined":_typeof(a))+".");if("undefined"!=typeof d&&a<d)throw new Error("Number "+g+": "+a+" is less than minimum "+d+".");if("undefined"!=typeof c&&a>c)throw new Error("Number "+g+": "+a+" is more than maximum "+c+".");var h;if("undefined"!=typeof e&&function(){var b=a.toString().split(".");if(b[1])return h=b[1].length,h>e}())throw new Error("Number: "+a+" has "+h+" decimals. More than max "+e+".");if("undefined"!=typeof f&&!f.test(a))throw new Error("Number "+g+": "+a+" does not match regEx "+f+".")},boolean:function(a,b){var c=b.name;if("boolean"!=typeof a)throw new Error("Expected "+c+": "+a+" to be type boolean. Got "+("undefined"==typeof a?"undefined":_typeof(a))+".")},email:function(a,b){validate(a,{type:"string",name:b.name,maxLen:50,regEx:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})},"string-int":function(a,b){validate(parseInt(a),Object.assign(b,{type:"number",name:"string-int"}))},"postal-code":function(a){validate(a,["string","number"]),a=""+a,validate(a,{type:"string",name:"postal-code",regEx:/^\d{5}(?:[-\s]\d{4})?$/})},url:function(a,b){if(validate(a,"string"),!validator.isURL(a,b))throw new Error("URL "+a+" did not match the validation: "+b)},date:function(a){validate(a,{type:"string",name:"date",regEx:/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)[0-9]{2}/})},phone:function(a){validate(a,["string","number"]),a=""+a,validate(a,{type:"string",name:"phone",regEx:/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/})},alpha:function(a){if(validate(a,"string"),!validator.isAlpha(a))throw new Error("string: "+a+" is not alpha numeric.")}},validate=function a(b,c){c.name=c.name||"";var d=c.name,e=c.on||a.on,f=c.off||a.off,g=c.warn||a.warn,h=c.bool||a.bool;if(function(){return("production"===process.env.NODE_ENV||f)&&(!e||!h)}())return b;var i=function(d){var e=0,f=[];if(c.forEach(function(c){f.push(c);try{a(b,c)}catch(a){e++}}),e===f.length)throw new Error(d+": "+b+" did not match any of the types: "+f.toString())},j=function(a){var b=!1;return c.acceptedNulls&&c.acceptedNulls.forEach(function(c){c===a&&(b=!0)}),b};try{if(Array.isArray(c))i(d);else{if(!b&&!j(b)){if(c.notRequired)return!!h||void 0;if(g&&console.warn("Value "+d+": "+b+" is required!"),h)return!1;throw new Error("Value "+d+": "+b+" is required!")}if("string"==typeof c&&(c={type:c}),!c.type)throw new Error(d+": "+b+".type is required");c.extend&&c.extend(b,c);var k=a.only?a.only:validationsMaster;a.extensions&&(k=Object.assign({},k,a.extensions));var l=Object.keys(k);return l.forEach(function(a){c.type.toLowerCase()===a&&k[a](b,c)}),!!h||b}}catch(a){if(g&&!h)return console.warn(a),b;if(h)return g&&console.warn(a),!1;throw a}},validateFunc=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};try{var d=c.name||a.name;if(b=Array.isArray(b)?b:[b],("production"===process.env.NODE_ENV||c.off)&&!c.on)return a.apply(void 0,_toConsumableArray(b));if(!a)throw new Error("Missing required argument func");if("function"!=typeof a)throw new Error("First argument is not a function!");var e=a.inputModel,f=a.outputModel;e&&validateInput(b,e,a,d),f&&validate(a.apply(void 0,_toConsumableArray(b)),f)}catch(d){if(c.warn)return console.warn(d),a.apply(void 0,_toConsumableArray(b));throw d}return a.apply(void 0,_toConsumableArray(b))},validateInput=function(a,b,c,d){var e=getFuncParamNames(c);if("string"==typeof b&&(b={type:b}),"string"==typeof b.type){if(1<a.length)throw new Error("ERROR: "+d+" expected 1 parameter but received "+a.length);return b.name=b.name||e[0],void validate(a[0],b)}if(Array.isArray(b)){if(!Array.isArray(a))throw new Error("ERROR: Multiple params must me passed into validateFunc as an array.");return void b.forEach(function(b,c){b.name=b.name||c,validate(a[c],b)})}if("object"===("undefined"==typeof b?"undefined":_typeof(b))){if(a=a[0],"object"!==("undefined"==typeof a?"undefined":_typeof(a))||Array.isArray(a))throw new Error("Error: Expected a single object as the sole function param (ES6 parameter destructuring).");var f=Object.keys(b),g=Object.keys(a);return g.forEach(function(a){if(!matchesAny(a,e))throw new Error("ERROR: The paramKey '"+a+"' does not match any of the available parameters: "+e.toString())}),void f.forEach(function(c){b[c].name=b[c].name||c,validate(a[c],b[c])})}throw new Error("UNKNOWN ERROR: the function input model did not match the api spec.")};(function(a){var b={validate:validate,validateFunc:validateFunc,validations:validationsMaster};"undefined"!=typeof module&&module.exports?(module.exports=b,a._=b):a._=b})(this);